(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{140:function(t,e,n){"use strict";n.r(e);var c=n(48),a=n(34),r=n(50),o=n(49),s=n(2),u=n(0),i=n(13),b=n(6),l=n(32),j=n.n(l),h=n(42),d=n(28),f=n.n(d),p=n(36);f.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var O={addContact:function(t){var e=t.name,n=t.number;return function(){var t=Object(h.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(Object(p.b)()),t.prev=1,t.next=4,f.a.post("/contacts",{name:e,number:n});case 4:a=t.sent,r=a.data,c(Object(p.c)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c(Object(p.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(h.a)(j.a.mark((function t(e){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(p.f)()),t.prev=1,t.next=4,f.a.get("/contacts");case 4:n=t.sent,c=n.data,e(Object(p.g)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(p.e)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(t){return function(){var e=Object(h.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(p.i)()),e.prev=1,e.next=4,f.a.delete("/contacts/".concat(t));case 4:n(Object(p.j)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(p.h)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},m=n(139),v=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",unic:!0},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.props.items.find((function(t){return t.name===a}))?t.setState({unic:!1}):(t.setState(Object(b.a)({},c,a)),t.setState({unic:!0}))},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddContact(t.state)},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.unic;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("label",{htmlFor:"name",children:["Name",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",value:e,onChange:this.handleChange,name:"name"})]}),!c&&Object(s.jsx)(m.a,{severity:"error",children:"This contact is already!"}),Object(s.jsxs)("label",{htmlFor:"number",children:["Number",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",value:n,onChange:this.handleChange,name:"number"})]}),Object(s.jsx)("button",{type:"submit",className:"add_contact",children:"Add contact"})]})]})}}]),n}(u.Component),x={onAddContact:O.addContact},C=Object(i.b)((function(t){return t.contacts}),x)(v),g=n(22),y=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},w={getVisibleContacts:Object(g.a)([k,y],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),getFilter:k,getContacts:y,getContactById:function(t,e){return y(t).find((function(t){return t.id===e}))}},F={onChangeFilter:p.d},S=Object(i.b)((function(t){return{contacts:t.contacts.items,value:w.getFilter(t)}}),F)((function(t){var e=t.contacts,n=t.value,c=t.onChangeFilter;return e.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Find name: "}),Object(s.jsx)("input",{type:"text",value:n,onChange:function(t){return c(t.target.value)}})]}):null})),N=n(20),A=n(122),I=n(137),L=n(129),R=n.n(L),B=n(138),D=Object(I.a)((function(t){return{button:{margin:t.spacing(1)}}})),J=Object(i.b)((function(t,e){return Object(N.a)({},w.getContactById(t,e.id))}),(function(t,e){return{onRemove:function(){return t(O.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,c=t.onRemove,a=D();return Object(s.jsx)("li",{children:Object(s.jsxs)(B.a,{display:"flex",justifyContent:"space-between",width:"290px",boxShadow:1,children:[Object(s.jsxs)("span",{className:"name find",children:[e," ",n]}),Object(s.jsx)(A.a,{variant:"contained",className:a.button,color:"secondary",startIcon:Object(s.jsx)(R.a,{}),size:"small",onClick:c,children:"x"})]})})})),V=Object(i.b)((function(t){return{contacts:w.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return e.length>0?Object(s.jsx)("ul",{children:e.map((function(t){var e=t.id;return Object(s.jsx)(J,{id:e},e)}))}):null})),z=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{}),Object(s.jsx)("h2",{children:"Contacts"}),Object(s.jsx)(S,{}),Object(s.jsx)(V,{})]})}}]),n}(u.Component),M={onFetchContacts:O.fetchContacts};e.default=Object(i.b)(null,M)(z)}}]);
//# sourceMappingURL=4.02d26665.chunk.js.map